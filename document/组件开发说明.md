# 组件开发说明

## 1. 组件类型定义

根据 `src/types/component.ts` 中的定义,我们支持以下基础组件类型:

- Text (文本组件)
- Image (图片组件) 
- Button (按钮组件)
- Container (容器组件)
- Navigation (导航组件)

## 2. 组件结构规范

每个组件都需要遵循以下数据结构:

```typescript
interface Component {
id: string;
type: ComponentType;
props: {
style: ComponentStyle; // 样式属性
data: ComponentData; // 数据属性
};
children?: Component[]; // 子组件
}
```

### 2.1 样式属性(ComponentStyle)

样式属性支持以下类别:

- 布局相关: display, position, width, height, margin, padding
- 外观相关: backgroundColor, color, fontSize, fontWeight, borderRadius, border
- Flex布局: flexDirection, justifyContent, alignItems, gap

### 2.2 数据属性(ComponentData)

每种组件类型有其特定的数据属性:

- Text: text (文本内容)
- Image: src (图片地址), alt (替代文本)
- Button: text (按钮文本), href (链接地址)
- Navigation: items (导航项)

## 3. 组件开发流程

1. 在 `src/components/editor/components` 目录下创建组件文件
2. 实现组件的渲染逻辑
3. 在 `src/config/components.ts` 中注册组件定义
4. 在属性面板中添加相应的配置项

## 4. 组件示例

### 4.1 文本组件示例
typescript:document/组件开发说明.md
// Text 组件默认配置
{
type: ComponentType.TEXT,
label: '文本',
icon: 'TextIcon',
defaultProps: {
style: {
color: '#000000',
fontSize: '16px',
},
data: {
text: '示例文本'
}
}
}
```

## 5. 组件开发注意事项

1. 样式隔离
- 使用 Tailwind CSS 进行样式管理
- 避免使用全局样式
- 组件样式应当是可配置的

2. 性能优化
- 合理使用 React.memo() 优化渲染
- 大型组件考虑使用动态导入
- 避免不必要的重渲染

3. 可扩展性
- 组件属性应该易于扩展
- 预留自定义事件接口
- 支持主题定制

4. 可访问性
- 添加适当的 ARIA 属性
- 确保键盘可访问性
- 提供合适的语义化标签

## 6. 调试与测试

1. 开发环境
- 使用编辑器实时预览
- 通过属性面板调试样式
- 检查组件树结构

2. 测试要求
- 编写组件单元测试
- 测试样式配置的生效
- 测试组件间的交互

## 7. 文档要求

每个组件都需要包含:

1. 组件说明
2. 属性定义
3. 使用示例
4. 注意事项

## 8. 后续规划

1. 高级特性
- 组件联动
- 动画效果
- 响应式设计

2. 扩展功能
- 自定义组件
- 组件模板
- 组件市场

这份说明文档基于现有的代码结构(参考了 src/types/component.ts 和其他相关文件),为组件开发提供了清晰的指导。开发团队可以按照这个规范来实现各个基础组件。
需要特别注意的是,文档中的规范与项目中已有的类型定义和工具函数保持一致,确保了开发流程的连贯性。